<!DOCTYPE HTML>
<html lang="zh-TW" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Lecture 15: Advanced I/O &amp; Exception Handling - Introduction to Programming (II)</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="程式設計(二)教材">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../favicon.svg">
                        <link rel="shortcut icon" href="../favicon.png">
                <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
                <link rel="stylesheet" href="../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
                <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../intro.html"><strong aria-hidden="true">1.</strong> Course Introduction</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> VS Code Tutorial</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../vscode_tutorial/lab_1_vscode_315.html"><strong aria-hidden="true">2.1.</strong> VS Code Tutorial (315 classroom)</a></li><li class="chapter-item expanded "><a href="../vscode_tutorial/lab_1_vscode.html"><strong aria-hidden="true">2.2.</strong> VS Code Tutorial (Linux/macOS/code server)</a></li><li class="chapter-item expanded "><a href="../vscode_tutorial/lab_1_vscode_win.html"><strong aria-hidden="true">2.3.</strong> VS Code Tutorial (WSL/windows + mingw)</a></li></ol></li><li class="chapter-item expanded "><a href="../class/lecture1.html"><strong aria-hidden="true">3.</strong> Lecture 1: Sturcture and Class</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../class/lab/lab1.html"><strong aria-hidden="true">3.1.</strong> Lab 1: Hello Class</a></li></ol></li><li class="chapter-item expanded "><a href="../class/lecture2.html"><strong aria-hidden="true">4.</strong> Lecture 2: Class Design 101</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../class/lecture2_ex1.html"><strong aria-hidden="true">4.1.</strong> Example 1: Triangle</a></li><li class="chapter-item expanded "><a href="../class/lecture2_ex2.html"><strong aria-hidden="true">4.2.</strong> Example 2: Vector</a></li></ol></li><li class="chapter-item expanded "><a href="../class/lecture3.html"><strong aria-hidden="true">5.</strong> Lecture 3: Class Data Members &amp; Member Functions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../class/lecture3_ex1.html"><strong aria-hidden="true">5.1.</strong> Example 1: Triangle (again)</a></li><li class="chapter-item expanded "><a href="../class/lecture3_ex2.html"><strong aria-hidden="true">5.2.</strong> Example 2: Vector (again)</a></li><li class="chapter-item expanded "><a href="../class/lecture3_ex3.html"><strong aria-hidden="true">5.3.</strong> Example 3: Integer Calculator</a></li></ol></li><li class="chapter-item expanded "><a href="../class/lecture4.html"><strong aria-hidden="true">6.</strong> Lecture 4: Class Constructor &amp; Modifer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../class/lecture4_ex1.html"><strong aria-hidden="true">6.1.</strong> Example 1: Triangle (again)</a></li><li class="chapter-item expanded "><a href="../class/lecture4_ex2.html"><strong aria-hidden="true">6.2.</strong> Example 2: Vector (again)</a></li><li class="chapter-item expanded "><a href="../class/lecture4_ex3.html"><strong aria-hidden="true">6.3.</strong> Example 3: Integer Calculator (again)</a></li><li class="chapter-item expanded "><a href="../class/lab/lab4-1.html"><strong aria-hidden="true">6.4.</strong> Lab 4-1: Complex Numbers (50%)</a></li><li class="chapter-item expanded "><a href="../class/lab/lab4-2.html"><strong aria-hidden="true">6.5.</strong> Lab 4-2: Complex Number Calculation (35%)</a></li><li class="chapter-item expanded "><a href="../class/lab/lab4-3.html"><strong aria-hidden="true">6.6.</strong> Lab 4-3: Advance Complex Number Calculation (15%)</a></li></ol></li><li class="chapter-item expanded "><a href="../class/lecture5.html"><strong aria-hidden="true">7.</strong> Lecture 5: Collaborate with Other Classes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../class/lecture5_ex1.html"><strong aria-hidden="true">7.1.</strong> Example 1: Triangle (again)</a></li><li class="chapter-item expanded "><a href="../class/lecture5_ex2.html"><strong aria-hidden="true">7.2.</strong> Example 2: Vector (again)</a></li><li class="chapter-item expanded "><a href="../class/lecture5_ex3.html"><strong aria-hidden="true">7.3.</strong> Example 3: Fixed Point Number &amp; Fixed Point Number Calculator</a></li></ol></li><li class="chapter-item expanded "><a href="../class/lecture6.html"><strong aria-hidden="true">8.</strong> Lecture 6: Operator &amp; Operator Overloading</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../class/lecture6_ex1.html"><strong aria-hidden="true">8.1.</strong> Example 1: Triangle (again)</a></li><li class="chapter-item expanded "><a href="../class/lecture6_ex2.html"><strong aria-hidden="true">8.2.</strong> Example 2: Vector (again)</a></li><li class="chapter-item expanded "><a href="../class/lecture6_ex3.html"><strong aria-hidden="true">8.3.</strong> Example 3: Fixed Point Number &amp; Fixed Point Number Calculator (again)</a></li><li class="chapter-item expanded "><a href="../class/lab/lab6-1.html"><strong aria-hidden="true">8.4.</strong> Lab 6-1: Enhanced Complex Numbers (40%)</a></li><li class="chapter-item expanded "><a href="../class/lab/lab6-2.html"><strong aria-hidden="true">8.5.</strong> Lab 6-2: Simple Complex Number Calculator (40%)</a></li><li class="chapter-item expanded "><a href="../class/lab/lab6-3.html"><strong aria-hidden="true">8.6.</strong> Lab 6-3: Enhanced Complex Number Calculator (20%)</a></li></ol></li><li class="chapter-item expanded "><a href="../oop/lecture7.html"><strong aria-hidden="true">9.</strong> Lecture 7: Introduction to Object Oriented Programming &amp; Design</a></li><li class="chapter-item expanded "><a href="../oop/lecture8.html"><strong aria-hidden="true">10.</strong> Lecture 8: OOP: Inheritance (1)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../oop/lecture8_ex1.html"><strong aria-hidden="true">10.1.</strong> Example 1: Integer &amp; Real</a></li><li class="chapter-item expanded "><a href="../oop/lecture8_ex2.html"><strong aria-hidden="true">10.2.</strong> Example 2: Complex Number</a></li><li class="chapter-item expanded "><a href="../oop/lecture8_ex3.html"><strong aria-hidden="true">10.3.</strong> Example 3: Integer &amp; Real &amp; Complex Number</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.</strong> Midterm Project: Big Positive Real Number Calculator</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../midterm-1.html"><strong aria-hidden="true">11.1.</strong> Midterm-1: Big Positive Real Number in Decimal Point Format</a></li><li class="chapter-item expanded "><a href="../midterm-2.html"><strong aria-hidden="true">11.2.</strong> Midterm-2: Simple Big Positive Real Number Calculator</a></li><li class="chapter-item expanded "><a href="../midterm-3.html"><strong aria-hidden="true">11.3.</strong> Midterm-3: Enhanced Big Positive Real Number Calculator</a></li></ol></li><li class="chapter-item expanded "><a href="../oop/lecture10.html"><strong aria-hidden="true">12.</strong> Lecture 10: OOP: Inheritance (2)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../oop/lecture10_ex1.html"><strong aria-hidden="true">12.1.</strong> Example 1: Integer &amp; Real &amp; Complex Number Calculator</a></li><li class="chapter-item expanded "><a href="../oop/lecture10_ex2.html"><strong aria-hidden="true">12.2.</strong> Example 2: Complex Number &amp; Triangle</a></li><li class="chapter-item expanded "><a href="../oop/lecture10_ex3.html"><strong aria-hidden="true">12.3.</strong> Example 3: Complex Number &amp; Triangles</a></li></ol></li><li class="chapter-item expanded "><a href="../oop/lecture11.html"><strong aria-hidden="true">13.</strong> Lecture 11: OOP: Polymorphism (1)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../oop/lecture11_ex1.html"><strong aria-hidden="true">13.1.</strong> Example 1: Integer &amp; Real</a></li><li class="chapter-item expanded "><a href="../oop/lecture11_ex2.html"><strong aria-hidden="true">13.2.</strong> Example 2: Complex Number</a></li><li class="chapter-item expanded "><a href="../oop/lecture11_ex3.html"><strong aria-hidden="true">13.3.</strong> Example 3: Integer &amp; Real &amp; Complex Number</a></li></ol></li><li class="chapter-item expanded "><a href="../oop/lecture12.html"><strong aria-hidden="true">14.</strong> Lecture 12: OOP: Polymorphism (2)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../oop/lecture12_ex1.html"><strong aria-hidden="true">14.1.</strong> Example 1: Integer &amp; Real &amp; Complex Number Calculator</a></li><li class="chapter-item expanded "><a href="../oop/lecture12_ex2.html"><strong aria-hidden="true">14.2.</strong> Example 2: Complex Number &amp; Triangles</a></li><li class="chapter-item expanded "><a href="../oop/lab/lab12-1.html"><strong aria-hidden="true">14.3.</strong> Lab 12-1: Complex Number's Geometry (40%)</a></li><li class="chapter-item expanded "><a href="../oop/lab/lab12-2.html"><strong aria-hidden="true">14.4.</strong> Lab 12-2: Simple Complex Number Geometry Transformation (40%)</a></li><li class="chapter-item expanded "><a href="../oop/lab/lab12-3.html"><strong aria-hidden="true">14.5.</strong> Lab 12-3: Enhanced Complex Number Geometry Transformation (20%)</a></li></ol></li><li class="chapter-item expanded "><a href="../file/lecture13.html"><strong aria-hidden="true">15.</strong> Lecture 13: File Processing (1)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../file/lecture13_ex1.html"><strong aria-hidden="true">15.1.</strong> Example 1: Big Real Number in Text File</a></li><li class="chapter-item expanded "><a href="../file/lecture13_ex2.html"><strong aria-hidden="true">15.2.</strong> Example 2: Point &amp; Triangle in Text File (function ver.)</a></li><li class="chapter-item expanded "><a href="../file/lecture13_ex3.html"><strong aria-hidden="true">15.3.</strong> Example 3: Vector &amp; Matrix in Binary File (function ver.)</a></li></ol></li><li class="chapter-item expanded "><a href="../file/lecture14.html"><strong aria-hidden="true">16.</strong> Lecture 14: File Processing (2)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../file/lecture14_ex1.html"><strong aria-hidden="true">16.1.</strong> Example 1: Point &amp; Triangle in Text File (class ver.)</a></li><li class="chapter-item expanded "><a href="../file/lecture14_ex2.html"><strong aria-hidden="true">16.2.</strong> Example 2: Vector &amp; Matrix in Binary File (class ver.)</a></li><li class="chapter-item expanded "><a href="../file/lab/lab14-1.html"><strong aria-hidden="true">16.3.</strong> Lab 14-1: Simple Complex Number Geometry Transformation (Text File ver.) (75%)</a></li><li class="chapter-item expanded "><a href="../file/lab/lab14-2.html"><strong aria-hidden="true">16.4.</strong> Lab 14-2: Simple Complex Number Geometry Transformation (Binary File ver.) (25%)</a></li></ol></li><li class="chapter-item expanded "><a href="../file/lecture15.html" class="active"><strong aria-hidden="true">17.</strong> Lecture 15: Advanced I/O &amp; Exception Handling</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../file/lecture15_ex.html"><strong aria-hidden="true">17.1.</strong> Example: Exception Handling, iostream &amp; fstream Error Handling</a></li></ol></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Introduction to Programming (II)</h1>

                    <div class="right-buttons">
                                                <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                                                <a href="https://github.com/stevenokm/i2p-nthu-math/edit/main/i2p2/src/file/lecture15.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>
                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!---
marp: true
author: Yi-Wen Hung
theme: default
headingDivider: 2
paginate: true
--->
<h1 id="advanced-io--exception-handling"><a class="header" href="#advanced-io--exception-handling">Advanced I/O &amp; Exception Handling</a></h1>
<blockquote>
<p>Slides version: <a href="./lecture15_slides.html">lecture15_slides.html</a>
Website version: <a href="./lecture15.html">lecture15.html</a></p>
</blockquote>
<ul>
<li>Detail in <code>iostream</code>, <code>fstream</code> &amp; <code>stringstream</code>
<ul>
<li>Stream Operator &amp; Manipulator</li>
<li>Stream Status &amp; Error Handling</li>
</ul>
</li>
</ul>
<ul>
<li>Exception &amp; Exception Handling
<ul>
<li>What is an exception?</li>
<li>How to handle exceptions?</li>
<li>How many types of exceptions?
<ul>
<li><code>std::exception</code> class</li>
</ul>
</li>
<li><code>iostream</code>, <code>fstream</code> &amp; exception handling</li>
</ul>
</li>
</ul>
<hr />
<ul>
<li>Example: Exception Handling, <code>iostream</code> &amp; <code>fstream</code> Error Handling</li>
<li>Practices</li>
</ul>
<h2 id="stream-operator--manipulator"><a class="header" href="#stream-operator--manipulator">Stream Operator &amp; Manipulator</a></h2>
<h3 id="stream-operator"><a class="header" href="#stream-operator"><code>&lt;&lt;</code> &amp; <code>&gt;&gt;</code> stream operator</a></h3>
<p>Discussed in <a href="./lecture14.html">lecture14</a></p>
<h3 id="stream-manipulator"><a class="header" href="#stream-manipulator">Stream Manipulator</a></h3>
<p>Ref: <a href="https://www.geeksforgeeks.org/manipulators-in-c-with-examples/">Manipulators in C++ with Examples</a></p>
<p>There are two types of manipulators in C++:</p>
<ol>
<li>Manipulators without arguments:
<ul>
<li>endl (output <code>\n</code> and flush), ws (consume whitespace), ends (output <code>\0</code>), flush (flush output buffer to terminal)</li>
</ul>
</li>
<li>Manipulators with Arguments: Some of the manipulators are used with the argument like <code>setw(20)</code>, <code>setfill(*)</code>, and many more.</li>
</ol>
<hr />
<ul>
<li>In <code>&lt;ios&gt;</code>:
<ul>
<li><code>(no)boolalpha</code>, <code>(no)uppercase</code>, <code>(no)showbase</code>, <code>(no)showpos</code>, <code>(no)showpoint</code>, <code>(no)skipws</code>, <code>(no)unitbuf</code>, <code>internal</code>, <code>left</code>, <code>right</code>, <code>hex</code>, <code>dec</code>, <code>oct</code>, <code>fixed</code>, <code>scientific</code></li>
</ul>
</li>
<li>In <code>&lt;iomanip&gt;</code>:
<ul>
<li><code>setw(val)</code>, <code>setfill(c)</code>, <code>setprecision(val)</code>, <code>setbase(val)</code>, <code>setiosflags(flag)</code>, <code>resetiosflags(m)</code></li>
</ul>
</li>
</ul>
<hr />
<h4 id="noboolalpha"><a class="header" href="#noboolalpha"><code>(no)boolalpha</code></a></h4>
<p>Ref: <a href="https://en.cppreference.com/w/cpp/io/manip/boolalpha">std::boolalpha, std::noboolalpha</a></p>
<pre><code class="language-cpp">#include &lt;sstream&gt;
#include &lt;iostream&gt;
int main()
{
    // boolalpha output
    std::cout &lt;&lt; std::boolalpha 
              &lt;&lt; &quot;boolalpha true: &quot; &lt;&lt; true &lt;&lt; '\n'
              &lt;&lt; &quot;boolalpha false: &quot; &lt;&lt; false &lt;&lt; '\n';
    std::cout &lt;&lt; std::noboolalpha 
              &lt;&lt; &quot;noboolalpha true: &quot; &lt;&lt; true &lt;&lt; '\n'
              &lt;&lt; &quot;noboolalpha false: &quot; &lt;&lt; false &lt;&lt; '\n';
    // boolalpha parse
    bool b1, b2;
    std::istringstream is(&quot;true false&quot;);
    is &gt;&gt; std::boolalpha &gt;&gt; b1 &gt;&gt; b2;
    std::cout &lt;&lt; '\&quot;' &lt;&lt; is.str() &lt;&lt; &quot;\&quot; parsed as &quot; &lt;&lt; b1 &lt;&lt; ' ' &lt;&lt; b2 &lt;&lt; '\n';
}
</code></pre>
<hr />
<h4 id="nouppercase-noshowbase"><a class="header" href="#nouppercase-noshowbase"><code>(no)uppercase</code>, <code>(no)showbase</code></a></h4>
<p>Ref: <a href="https://en.cppreference.com/w/cpp/io/manip/showbase">std::showbase, std::noshowbase</a>, <a href="https://en.cppreference.com/w/cpp/io/manip/uppercase">std::uppercase, std::nouppercase</a></p>
<pre><code class="language-cpp">#include &lt;sstream&gt;
#include &lt;locale&gt;
#include &lt;iostream&gt;
#include &lt;iomanip&gt;
int main()
{
    // showbase affects the output of octals and hexadecimals
    std::cout &lt;&lt; std::hex
              &lt;&lt; &quot;showbase: &quot; &lt;&lt; std::showbase &lt;&lt; 42 &lt;&lt; '\n'
              &lt;&lt; &quot;noshowbase: &quot; &lt;&lt; std::noshowbase &lt;&lt; 42 &lt;&lt; '\n';
    // uppercase affects the output of hexadecimals
    std::cout &lt;&lt; std::hex &lt;&lt; std::showbase
              &lt;&lt; &quot;0x2a with uppercase: &quot; &lt;&lt; std::uppercase &lt;&lt; 0x2a &lt;&lt; '\n'
              &lt;&lt; &quot;0x2a with nouppercase: &quot; &lt;&lt; std::nouppercase &lt;&lt; 0x2a &lt;&lt; '\n'
              &lt;&lt; &quot;1e-10 with uppercase: &quot; &lt;&lt; std::uppercase &lt;&lt; 1e-10 &lt;&lt; '\n'
              &lt;&lt; &quot;1e-10 with nouppercase: &quot; &lt;&lt; std::nouppercase &lt;&lt; 1e-10 &lt;&lt; '\n';
}
</code></pre>
<hr />
<h4 id="noshowpos-noshowpoint"><a class="header" href="#noshowpos-noshowpoint"><code>(no)showpos</code>, <code>(no)showpoint</code></a></h4>
<p>Ref: <a href="https://en.cppreference.com/w/cpp/io/manip/showpos">std::showpos, std::noshowpos</a>, <a href="https://en.cppreference.com/w/cpp/io/manip/showpoint">std::showpoint, std::noshowpoint</a></p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
int main()
{
    std::cout &lt;&lt; &quot;1.0 with showpoint: &quot; &lt;&lt; std::showpoint &lt;&lt; 1.0 &lt;&lt; '\n'
              &lt;&lt; &quot;1.0 with noshowpoint: &quot; &lt;&lt; std::noshowpoint &lt;&lt; 1.0 &lt;&lt; '\n';
    std::cout
        &lt;&lt; &quot;showpos: &quot; &lt;&lt; std::showpos &lt;&lt; 42 &lt;&lt; ' ' &lt;&lt; 3.14 &lt;&lt; ' ' &lt;&lt; 0 &lt;&lt; '\n'
        &lt;&lt; &quot;noshowpos: &quot; &lt;&lt; std::noshowpos &lt;&lt; 42 &lt;&lt; ' ' &lt;&lt; 3.14 &lt;&lt; ' ' &lt;&lt; 0 &lt;&lt; '\n';
}
</code></pre>
<hr />
<h4 id="noskipws"><a class="header" href="#noskipws"><code>(no)skipws</code></a></h4>
<p>Ref: <a href="https://en.cppreference.com/w/cpp/io/manip/skipws">std::skipws, std::noskipws</a></p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;sstream&gt;
int main()
{
    char c1, c2, c3;
    std::istringstream(&quot;a b c&quot;) &gt;&gt; c1 &gt;&gt; c2 &gt;&gt; c3;
    std::cout &lt;&lt; &quot;Default  behavior: c1 = &quot; &lt;&lt; c1 &lt;&lt; &quot; c2 = &quot; &lt;&lt; c2 &lt;&lt; &quot; c3 = &quot; &lt;&lt; c3 &lt;&lt; '\n';
    std::istringstream(&quot;a b c&quot;) &gt;&gt; std::noskipws &gt;&gt; c1 &gt;&gt; c2 &gt;&gt; c3;
    std::cout &lt;&lt; &quot;noskipws behavior: c1 = &quot; &lt;&lt; c1 &lt;&lt; &quot; c2 = &quot; &lt;&lt; c2 &lt;&lt; &quot; c3 = &quot; &lt;&lt; c3 &lt;&lt; '\n';
}
</code></pre>
<hr />
<h4 id="internal-left-right"><a class="header" href="#internal-left-right"><code>internal</code>, <code>left</code>, <code>right</code></a></h4>
<p>Ref: <a href="https://en.cppreference.com/w/cpp/io/manip/left">std::left, std::right, std::internal</a></p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;iomanip&gt;
#include &lt;locale&gt;

int main()
{
    std::cout.imbue(std::locale(&quot;en_US.utf8&quot;));

    std::cout &lt;&lt; &quot;Default positioning:\n&quot;
              &lt;&lt; std::setfill('*')
              &lt;&lt; std::setw(12) &lt;&lt; -1.23 &lt;&lt; '\n'
              &lt;&lt; std::setw(12) &lt;&lt; std::hex &lt;&lt; std::showbase &lt;&lt; 42 &lt;&lt; '\n'
              &lt;&lt; std::setw(12) &lt;&lt; std::put_money(123, true) &lt;&lt; &quot;\n\n&quot;;

    std::cout &lt;&lt; &quot;Left positioning:\n&quot;
              &lt;&lt; std::left
              &lt;&lt; std::setw(12) &lt;&lt; -1.23 &lt;&lt; '\n'
              &lt;&lt; std::setw(12) &lt;&lt; 42 &lt;&lt; '\n'
              &lt;&lt; std::setw(12) &lt;&lt; std::put_money(123, true) &lt;&lt; &quot;\n\n&quot;;

    std::cout &lt;&lt; &quot;Internal positioning:\n&quot;
              &lt;&lt; std::internal
              &lt;&lt; std::setw(12) &lt;&lt; -1.23 &lt;&lt; '\n'
              &lt;&lt; std::setw(12) &lt;&lt; 42 &lt;&lt; '\n'
              &lt;&lt; std::setw(12) &lt;&lt; std::put_money(123, true) &lt;&lt; &quot;\n\n&quot;;

    std::cout &lt;&lt; &quot;Right positioning:\n&quot;
              &lt;&lt; std::right
              &lt;&lt; std::setw(12) &lt;&lt; -1.23 &lt;&lt; '\n'
              &lt;&lt; std::setw(12) &lt;&lt; 42 &lt;&lt; '\n'
              &lt;&lt; std::setw(12) &lt;&lt; std::put_money(123, true) &lt;&lt; '\n';
}
</code></pre>
<hr />
<h4 id="hex-dec-oct"><a class="header" href="#hex-dec-oct"><code>hex</code>, <code>dec</code>, <code>oct</code></a></h4>
<p>Ref: <a href="https://en.cppreference.com/w/cpp/io/manip/hex">std::dec, std::hex, std::oct</a></p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;sstream&gt;
#include &lt;bitset&gt;
int main()
{
    std::cout &lt;&lt; &quot;The number 42 in octal:   &quot; &lt;&lt; std::oct &lt;&lt; 42 &lt;&lt; '\n'
              &lt;&lt; &quot;The number 42 in decimal: &quot; &lt;&lt; std::dec &lt;&lt; 42 &lt;&lt; '\n'
              &lt;&lt; &quot;The number 42 in hex:     &quot; &lt;&lt; std::hex &lt;&lt; 42 &lt;&lt; '\n';
    int n;
    std::istringstream(&quot;2A&quot;) &gt;&gt; std::hex &gt;&gt; n;
    std::cout &lt;&lt; std::dec &lt;&lt; &quot;Parsing \&quot;2A\&quot; as hex gives &quot; &lt;&lt; n &lt;&lt; '\n';
    // the output base is sticky until changed
    std::cout &lt;&lt; std::hex &lt;&lt; &quot;42 as hex gives &quot; &lt;&lt; 42
              &lt;&lt; &quot; and 21 as hex gives &quot; &lt;&lt; 21 &lt;&lt; '\n';

    // Note: there is no I/O manipulator that sets up a stream to print out
    // numbers in binary format (e.g. bin). If binary output is necessary
    // the std::bitset trick can be used:
    std::cout &lt;&lt; &quot;The number 42 in binary:  &quot; &lt;&lt; std::bitset&lt;8&gt;{42} &lt;&lt; '\n';
}
</code></pre>
<hr />
<h4 id="fixed-scientific"><a class="header" href="#fixed-scientific"><code>fixed</code>, <code>scientific</code></a></h4>
<p>Ref: <a href="https://en.cppreference.com/w/cpp/io/manip/fixed">std::fixed, std::scientific</a></p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;iomanip&gt;
#include &lt;sstream&gt;
 
enum class cap { title, middle, end };
void print(const char* text, double num, cap c)
{
    if (c == cap::title) std::cout &lt;&lt;
    &quot;┌──────────┬────────────┬──────────────────────────┐\n&quot;
    &quot;│  number  │   iomanip  │      representation      │\n&quot;
    &quot;├──────────┼────────────┼──────────────────────────┤\n&quot;
    ;
    std::cout &lt;&lt; std::left
    &lt;&lt; &quot;│ &quot; &lt;&lt; std::setw(8) &lt;&lt; text &lt;&lt; &quot; │ fixed      │ &quot;
    &lt;&lt; std::setw(24) &lt;&lt; std::fixed        &lt;&lt; num &lt;&lt; &quot; │\n&quot;
    &lt;&lt; &quot;│ &quot; &lt;&lt; std::setw(8) &lt;&lt; text &lt;&lt; &quot; │ scientific │ &quot;
    &lt;&lt; std::setw(24) &lt;&lt; std::scientific   &lt;&lt; num &lt;&lt; &quot; │\n&quot;
    &lt;&lt; &quot;│ &quot; &lt;&lt; std::setw(8) &lt;&lt; text &lt;&lt; &quot; │ hexfloat   │ &quot;
    &lt;&lt; std::setw(24) &lt;&lt; std::hexfloat     &lt;&lt; num &lt;&lt; &quot; │\n&quot;
    &lt;&lt; &quot;│ &quot; &lt;&lt; std::setw(8) &lt;&lt; text &lt;&lt; &quot; │ default    │ &quot;
    &lt;&lt; std::setw(24) &lt;&lt; std::defaultfloat &lt;&lt; num &lt;&lt; &quot; │\n&quot;
    ;
    std::cout &lt;&lt; (c != cap::end ?
    &quot;├──────────┼────────────┼──────────────────────────┤\n&quot; :
    &quot;└──────────┴────────────┴──────────────────────────┘\n&quot; );
}
</code></pre>
<hr />
<pre><code class="language-cpp">int main()
{
    print(&quot;0.0&quot;, 0.0, cap::title);
    print(&quot;0.01&quot;, 0.01, cap::middle);
    print(&quot;0.00001&quot;, 0.00001, cap::end);
 
    // Note; choose clang for correct output
    double f;
    std::istringstream(&quot;0x1.8p+0&quot;) &gt;&gt; f;
    std::cout &lt;&lt; &quot;Parsing 0x1.8p+0 gives &quot; &lt;&lt; f &lt;&lt; '\n';
 
    std::istringstream(&quot;0x1P-1022&quot;) &gt;&gt; f;
    std::cout &lt;&lt; &quot;Parsing 0x1P-1022 gives &quot; &lt;&lt; f &lt;&lt; '\n';
}
</code></pre>
<hr />
<h4 id="setwval-setfillc"><a class="header" href="#setwval-setfillc"><code>setw(val)</code>, <code>setfill(c)</code></a></h4>
<p>Ref: <a href="https://en.cppreference.com/w/cpp/io/manip/setw">std::setw</a>, <a href="https://en.cppreference.com/w/cpp/io/manip/setfill">std::setfill</a></p>
<pre><code class="language-cpp">#include &lt;sstream&gt;
#include &lt;iostream&gt;
#include &lt;iomanip&gt;

int main()
{
    std::cout &lt;&lt; &quot;default fill: [&quot; &lt;&lt; std::setw(10) &lt;&lt; 42 &lt;&lt; &quot;]\n&quot;
              &lt;&lt; &quot;setfill('*'): [&quot; &lt;&lt; std::setfill('*')
              &lt;&lt; std::setw(10) &lt;&lt; 42 &lt;&lt; &quot;]\n&quot;;
    std::cout &lt;&lt; &quot;no setw: [&quot; &lt;&lt; 42 &lt;&lt; &quot;]\n&quot;
              &lt;&lt; &quot;setw(6): [&quot; &lt;&lt; std::setw(6) &lt;&lt; 42 &lt;&lt; &quot;]\n&quot;
              &lt;&lt; &quot;setw(6), several elements: [&quot; &lt;&lt; 89 &lt;&lt; std::setw(6) &lt;&lt; 12 &lt;&lt; 34 &lt;&lt; &quot;]\n&quot;;
    std::istringstream is(&quot;hello, world&quot;);
    char arr[10];
    is &gt;&gt; std::setw(6) &gt;&gt; arr;
    std::cout &lt;&lt; &quot;Input from \&quot;&quot; &lt;&lt; is.str() &lt;&lt; &quot;\&quot; with setw(6) gave \&quot;&quot;
              &lt;&lt; arr &lt;&lt; &quot;\&quot;\n&quot;;
}
</code></pre>
<hr />
<h4 id="setprecisionval"><a class="header" href="#setprecisionval"><code>setprecision(val)</code></a></h4>
<p>Ref: <a href="https://en.cppreference.com/w/cpp/io/manip/setprecision">std::setprecision</a></p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;iomanip&gt;
#include &lt;cmath&gt;
#include &lt;limits&gt;
int main()
{
    const long double pi = std::acos(-1.L);
    std::cout &lt;&lt; &quot;default precision (6): &quot; &lt;&lt; pi &lt;&lt; '\n'
              &lt;&lt; &quot;std::setprecision(10): &quot; &lt;&lt; std::setprecision(10) &lt;&lt; pi &lt;&lt; '\n'
              &lt;&lt; &quot;max precision:         &quot;
              &lt;&lt; std::setprecision(std::numeric_limits&lt;long double&gt;::digits10 + 1)
              &lt;&lt; pi &lt;&lt; '\n';
}
</code></pre>
<hr />
<h4 id="setbaseval-alias-of-stdoct-stddec-stdhex"><a class="header" href="#setbaseval-alias-of-stdoct-stddec-stdhex"><code>setbase(val)</code>, alias of <code>std::oct</code>, <code>std::dec</code>, <code>std::hex</code></a></h4>
<p>Ref: <a href="https://en.cppreference.com/w/cpp/io/manip/setbase">std::setbase</a></p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;sstream&gt;
#include &lt;iomanip&gt;
int main()
{
    std::cout &lt;&lt; &quot;Parsing string \&quot;10 0x10 010\&quot;\n&quot;;

    int n1, n2, n3;
    std::istringstream s(&quot;10 0x10 010&quot;);
    s &gt;&gt; std::setbase(16) &gt;&gt; n1 &gt;&gt; n2 &gt;&gt; n3;
    std::cout &lt;&lt; &quot;hexadecimal parse: &quot; &lt;&lt; n1 &lt;&lt; ' ' &lt;&lt; n2 &lt;&lt; ' ' &lt;&lt; n3 &lt;&lt; '\n';

    s.clear();
    s.seekg(0);
    s &gt;&gt; std::setbase(0) &gt;&gt; n1 &gt;&gt; n2 &gt;&gt; n3;
    std::cout &lt;&lt; &quot;prefix-dependent parse: &quot; &lt;&lt; n1 &lt;&lt; ' ' &lt;&lt; n2 &lt;&lt; ' ' &lt;&lt; n3 &lt;&lt; '\n';

    std::cout &lt;&lt; &quot;hex output: &quot; &lt;&lt; std::setbase(16)
              &lt;&lt; std::showbase &lt;&lt; n1 &lt;&lt; ' ' &lt;&lt; n2 &lt;&lt; ' ' &lt;&lt; n3 &lt;&lt; '\n';
}
</code></pre>
<hr />
<h4 id="setiosflagsflag-resetiosflagsm"><a class="header" href="#setiosflagsflag-resetiosflagsm"><code>setiosflags(flag)</code>, <code>resetiosflags(m)</code></a></h4>
<p>Ref: <a href="https://en.cppreference.com/w/cpp/io/manip/setiosflags">std::setiosflags</a>, <a href="https://en.cppreference.com/w/cpp/io/manip/resetiosflags">std::resetiosflags</a></p>
<pre><code class="language-cpp">#include &lt;sstream&gt;
#include &lt;iostream&gt;
#include &lt;iomanip&gt;
int main()
{
    if (false)
    {
        std::cout &lt;&lt; std::resetiosflags(std::ios_base::dec)
                  &lt;&lt; std::setiosflags(std::ios_base::hex | std::ios_base::uppercase | std::ios_base::showbase) &lt;&lt; 42 &lt;&lt; '\n';
    }
    else
    {
        std::istringstream in(&quot;10 010 10 010 10 010&quot;);
        int n1, n2;
        in &gt;&gt; std::oct &gt;&gt; n1 &gt;&gt; n2;
        std::cout &lt;&lt; &quot;Parsing \&quot;10 010\&quot; with std::oct gives:  &quot; &lt;&lt; n1 &lt;&lt; ' ' &lt;&lt; n2 &lt;&lt; '\n';
        in &gt;&gt; std::dec &gt;&gt; n1 &gt;&gt; n2;
        std::cout &lt;&lt; &quot;Parsing \&quot;10 010\&quot; with std::dec gives:  &quot; &lt;&lt; n1 &lt;&lt; ' ' &lt;&lt; n2 &lt;&lt; '\n';
        in &gt;&gt; std::resetiosflags(std::ios_base::basefield) &gt;&gt; n1 &gt;&gt; n2;
        std::cout &lt;&lt; &quot;Parsing \&quot;10 010\&quot; with autodetect gives: &quot; &lt;&lt; n1 &lt;&lt; ' ' &lt;&lt; n2 &lt;&lt; '\n';
    }
}
</code></pre>
<h2 id="stream-status--error-handling"><a class="header" href="#stream-status--error-handling">Stream Status &amp; Error Handling</a></h2>
<p>Ref: <a href="https://en.cppreference.com/w/cpp/io/basic_ios">std::basic_ios</a>, <a href="https://en.cppreference.com/w/cpp/io/ios_base/iostate">std::ios_base::iostate</a></p>
<ul>
<li>4 states: <code>.good()</code>, <code>.eof()</code>, <code>.fail()</code>, <code>.bad()</code>
<ul>
<li><code>.good()</code>: checks if no error has occurred i.e. I/O operations are available.</li>
<li><code>.eof()</code>: checks if end-of-file has been reached.</li>
<li><code>.fail()</code>: checks if an error has occurred.</li>
<li><code>.bad()</code>: checks if a non-recoverable error has occurred.</li>
</ul>
</li>
</ul>
<p>all of them are based on <code>ios_base::iostate</code></p>
<ul>
<li><code>badbit</code>: <code>true</code> if the stream has an irrecoverable stream error</li>
<li><code>eofbit</code>: <code>true</code> if the stream's associated input sequence has reached end-of-file</li>
<li><code>failbit</code>: <code>true</code> if the stream has an input/output operation failed (formatting or extraction error)</li>
</ul>
<hr />
<h3 id="when-will-badbit-be-set"><a class="header" href="#when-will-badbit-be-set">When will <code>badbit</code> be set</a></h3>
<p>The badbit is set by the following situations:</p>
<ul>
<li>Fails to insert a character into the output stream, for any reason.</li>
<li><code>operator&lt;&lt;</code> encounter the end of the output stream before completing output.</li>
<li>Initialize a stream with a <code>NULL</code> pointer.</li>
<li>called on a stream with a <code>NULL</code> pointer buffer.</li>
<li>A <code>NULL</code> pointer is passed as the argument.</li>
<li>Buffer opeartions are returned with EOF value.</li>
<li>Every stream I/O function if an exception is thrown by any member function of the associated stream buffer.</li>
<li>Failure to allocate memory.</li>
</ul>
<hr />
<h3 id="when-will-eofbit-be-set"><a class="header" href="#when-will-eofbit-be-set">When will <code>eofbit</code> be set</a></h3>
<p>The eofbit is set by the following situations:</p>
<ul>
<li>Reaching the end of the stream, as opposed to reaching the specified terminating character.</li>
</ul>
<hr />
<h3 id="when-will-failbit-be-set"><a class="header" href="#when-will-failbit-be-set">When will <code>failbit</code> be set</a></h3>
<p>The failbit is set by the following situations:</p>
<ul>
<li>Initialize a stream while the stream either <code>eofbit</code> or <code>badbit</code> is set.</li>
<li>Extract invalid characters/invalid format/no characters or extract a <code>NULL</code> pointer.</li>
<li>Extract <code>basic_string::max_size</code> characters from the input stream.</li>
<li>If the end-of-file condition occurs on the input stream before all requested characters could be extracted.</li>
<li><code>seekg</code> or <code>tellp</code> on failure</li>
<li>The constructors of <code>fstream</code>, <code>ifstream</code>, and <code>ofstream</code> that takes a filename argument, if the file cannot be opened.</li>
<li><code>fstream::open</code>, <code>ifstream::open</code>, and <code>ofstream::open</code> if the file cannot be opened.</li>
<li><code>fstream::close</code>, <code>ifstream::close</code>, and <code>ofstream::close</code> if the file cannot be closed.</li>
</ul>
<hr />
<h3 id="relation-between-iostate-flags-and-stream-status"><a class="header" href="#relation-between-iostate-flags-and-stream-status">Relation between <code>iostate</code> flags and stream status</a></h3>
<table><thead><tr><th align="center"><code>eofbit</code></th><th align="center"><code>failbit</code></th><th align="center"><code>badbit</code></th><th align="center"><code>.good()</code></th><th align="center"><code>.fail()</code></th><th align="center"><code>.bad()</code></th><th align="center"><code>.eof()</code></th><th align="center"><code>operator bool()</code></th><th align="center"><code>operator!()</code></th></tr></thead><tbody>
<tr><td align="center"><code>false</code></td><td align="center"><code>false</code></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td><td align="center"><code>false</code></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td></tr>
<tr><td align="center"><code>false</code></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td></tr>
<tr><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td><td align="center"><code>false</code></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td></tr>
<tr><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td></tr>
<tr><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td><td align="center"><code>false</code></td><td align="center"><code>false</code></td><td align="center"><code>false</code></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td></tr>
<tr><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td><td align="center"><strong><code>true</code></strong></td><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td></tr>
<tr><td align="center"><strong><code>true</code></strong></td><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td></tr>
<tr><td align="center"><strong><code>true</code></strong></td><td align="center"><strong><code>true</code></strong></td><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td><td align="center"><strong><code>true</code></strong></td><td align="center"><strong><code>true</code></strong></td><td align="center"><code>false</code></td><td align="center"><strong><code>true</code></strong></td></tr>
</tbody></table>
<h2 id="exception--exception-handling"><a class="header" href="#exception--exception-handling">Exception &amp; Exception Handling</a></h2>
<ul>
<li>What is an exception?</li>
<li>How to handle exceptions?</li>
<li>How many types of exceptions?</li>
<li><code>iostream</code>, <code>fstream</code> &amp; exception handling</li>
</ul>
<hr />
<h3 id="what-is-an-exception"><a class="header" href="#what-is-an-exception">What is an exception?</a></h3>
<p>Ref: <a href="https://www.geeksforgeeks.org/exception-handling-in-c/">Exception Handling in C++</a></p>
<blockquote>
<p>Exceptions are run-time anomalies or abnormal conditions that a program encounters during its execution.
There are two types of exceptions: 
a) Synchronous
b) Asynchronous (Ex: which are beyond the program's control, Disc failure etc).</p>
</blockquote>
<hr />
<h3 id="how-to-handle-exceptions"><a class="header" href="#how-to-handle-exceptions">How to handle exceptions?</a></h3>
<p>In C++, exceptions are handled by the following statements:</p>
<pre><code class="language-cpp">try
{
    // a exception variable, could be any type
    // and could be used without declaration
    exception_type e;

    // statements to be executed

    // if exception occurs, throw the exception
    throw e;
}
catch (exception_type e)
{
    // statements to handle any exception thrown
}
</code></pre>
<hr />
<h4 id="example"><a class="header" href="#example">Example:</a></h4>
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

int main()
{
    int x = -1;

    // Some code
    cout &lt;&lt; &quot;Before try \n&quot;;
    try
    {
        cout &lt;&lt; &quot;Inside try \n&quot;;
        if (x &lt; 0)
        {
            throw x;
            cout &lt;&lt; &quot;After throw (Never executed) \n&quot;;
        }
    }
    catch (int x)
    {
        cout &lt;&lt; &quot;Exception Caught \n&quot;;
    }

    cout &lt;&lt; &quot;After catch (Will be executed) \n&quot;;
    return 0;
}
</code></pre>
<hr />
<h4 id="example-multiple-catch-blocks--default-catch-block"><a class="header" href="#example-multiple-catch-blocks--default-catch-block">Example: multiple catch blocks &amp; default catch block</a></h4>
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

int main()
{
    try
    {
        throw 10;
    }
    catch (char *excp)
    {
        cout &lt;&lt; &quot;Caught &quot; &lt;&lt; excp;
    }
    catch (...)
    {
        cout &lt;&lt; &quot;Default Exception\n&quot;;
    }
    return 0;
}
</code></pre>
<hr />
<h4 id="example-uncaught-exception"><a class="header" href="#example-uncaught-exception">Example: uncaught exception</a></h4>
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

int main()
{
    try
    {
        // error, unhandled exception
        throw 'a';
    }
    catch (int x)
    {
        cout &lt;&lt; &quot;Caught &quot;;
    }
    return 0;
}
</code></pre>
<hr />
<h4 id="example-nesting-of-exceptions"><a class="header" href="#example-nesting-of-exceptions">Example: Nesting of exceptions</a></h4>
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

int main()
{
    try
    {
        try
        {
            throw 20;
        }
        catch (int n)
        {
            cout &lt;&lt; &quot;Handle Partially &quot;;
            throw; // Re-throwing an exception
        }
    }
    catch (int n)
    {
        cout &lt;&lt; &quot;Handle remaining &quot;;
    }
    return 0;
}
</code></pre>
<hr />
<h4 id="example-class--exception"><a class="header" href="#example-class--exception">Example: class &amp; exception</a></h4>
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

class Test
{
public:
    Test() { cout &lt;&lt; &quot;Constructor of Test &quot; &lt;&lt; endl; }
    ~Test() { cout &lt;&lt; &quot;Destructor of Test &quot; &lt;&lt; endl; }
};

int main()
{
    try
    {
        Test t1;
        throw 10;
    }
    catch (int i)
    {
        cout &lt;&lt; &quot;Caught &quot; &lt;&lt; i &lt;&lt; endl;
    }
}
</code></pre>
<hr />
<h4 id="example-class-inheritance--exception"><a class="header" href="#example-class-inheritance--exception">Example: class inheritance &amp; exception</a></h4>
<pre><code class="language-cpp">// C++ Program to demonstrate a catching of
// Derived exception and printing it successfully
#include &lt;iostream&gt;
using namespace std;

class Base
{
};
class Derived : public Base
{
};
int main()
{
    Derived d;
    // Some other functionalities
    try
    {
        // Monitored code
        throw d;
    }
    catch (Derived d)
    {
        // the derived class object should be caught before the base class object
        // else the base class object will always be caught
        cout &lt;&lt; &quot;Caught Derived Exception&quot;;
    }
    catch (Base b)
    {
        cout &lt;&lt; &quot;Caught Base Exception&quot;;
    }
    getchar(); // To read the next character
    return 0;
}
</code></pre>
<hr />
<h3 id="how-many-types-of-exceptions"><a class="header" href="#how-many-types-of-exceptions">How many types of exceptions?</a></h3>
<p>There are three types of exceptions:</p>
<ul>
<li>any preliminary types (e.g., <code>int</code>, <code>char</code>, <code>float</code>, etc.)
<ul>
<li>Discussed in the previous section</li>
</ul>
</li>
<li>user-defined types (e.g., <code>class</code>, <code>struct</code>, etc.)
<ul>
<li>Discussed in the previous section</li>
</ul>
</li>
<li><code>std::exception</code></li>
</ul>
<hr />
<h4 id="stdexception"><a class="header" href="#stdexception"><code>std::exception</code></a></h4>
<p>Ref: <a href="https://www.geeksforgeeks.org/exception-header-in-c-with-examples/">Exception header in C++ with examples</a></p>
<p><code>std::exception</code> is the base class of all exceptions in C++ standard library.</p>
<table><thead><tr><th align="center">Exception</th><th align="center">Description</th></tr></thead><tbody>
<tr><td align="center"><code>std::bad_alloc</code></td><td align="center">Memory allocation failed</td></tr>
<tr><td align="center"><code>std::bad_cast</code></td><td align="center">Invalid type conversion</td></tr>
<tr><td align="center"><code>std::bad_exception</code></td><td align="center">Exception handling failed</td></tr>
<tr><td align="center"><code>std::bad_typeid</code></td><td align="center">Invalid typeid</td></tr>
<tr><td align="center"><code>std::bad_function_call</code></td><td align="center">Invalid function call</td></tr>
<tr><td align="center"><code>std::bad_weak_ptr</code></td><td align="center">Invalid weak pointer</td></tr>
<tr><td align="center"><code>std::logic_error</code></td><td align="center">Logic error</td></tr>
<tr><td align="center"><code>std::runtime_error</code></td><td align="center">Runtime error</td></tr>
</tbody></table>
<hr />
<h5 id="exceptionwhat"><a class="header" href="#exceptionwhat"><code>exception::what()</code></a></h5>
<p>Ref: <a href="https://www.geeksforgeeks.org/exceptionwhat-in-c-with-examples/">exception::what() in C++ with Examples</a></p>
<p>To get the description of the exception, use the <code>what()</code> member function.
The example below shows how to use the <code>what()</code> member function and how it works.</p>
<pre><code class="language-cpp">// C++ code for exception::what()
#include &lt;iostream&gt;
#include &lt;exception&gt;
using namespace std;
class geeksforgeeks : public exception
{
public:
    const char *what() const noexcept
    {
        return &quot;Hey!!&quot;;
    }
};
</code></pre>
<hr />
<pre><code class="language-cpp">// main method
int main()
{
    // try block
    try
    {
        throw geeksforgeeks();
    }
    // catch block to handle the errors
    catch (exception &amp;gfg)
    {
        cout &lt;&lt; gfg.what();
    }
    return 0;
}
</code></pre>
<hr />
<h4 id="example-stdbad_alloc"><a class="header" href="#example-stdbad_alloc">Example: <code>std::bad_alloc</code></a></h4>
<pre><code class="language-cpp">// C++ program to illustrate bad_alloc
// using class bad_alloc
#include &lt;exception&gt;
#include &lt;iostream&gt;
using namespace std;
// Function to illustrate bad_alloc
void createArray(long long N)
{
    // Try Block
    try
    {
        // Create an array of length N
        int *array = new int[N];
        // If created successfully then
        // print the message
        cout &lt;&lt; &quot;Array created successfully&quot;
             &lt;&lt; &quot; of length &quot; &lt;&lt; N &lt;&lt; &quot; \n&quot;;
    }
    // Check if the memory
    // was allocated or not
    // using class bad_alloc
    catch (bad_alloc &amp;e)
    {
        // If not, print the error message
        cout &lt;&lt; e.what()
             &lt;&lt; &quot; for array of length &quot;
             &lt;&lt; N &lt;&lt; &quot; \n&quot;;
    }
}
</code></pre>
<hr />
<pre><code class="language-cpp">// Driver Code
int main()
{
    // Function call to create an
    // array of 1000 size
    createArray(1000);
    // Function call to create an
    // array of 1000000000 size
    createArray(10000000000);
    return 0;
}
</code></pre>
<hr />
<h4 id="example-stdlogic_error"><a class="header" href="#example-stdlogic_error">Example: <code>std::logic_error</code></a></h4>
<pre><code class="language-cpp">// C++ program to illustrate logic_error
#include &lt;exception&gt;
#include &lt;iostream&gt;
using namespace std;
// Function to find factorial of N and
// throws error if occurs
void findFactorial(int N)
{
    // Initialise variable by 1
    int factorial = 1;
    // Check for errors
    try
    {
        // If N is less than zero then,
        // it shows errors as factorial
        // of negative number can't be
        // calculated
        if (N &lt; 0)
        {
            // Exception object which
            // returns the message passed
            // to it
            throw invalid_argument(
                &quot;negative not allowed&quot;);
        }
        // Find factorial if no error occurs
        for (int i = N; i &gt; 0; i--)
        {
            factorial *= i;
        }
        cout &lt;&lt; &quot;Factorial of &quot; &lt;&lt; N
             &lt;&lt; &quot; is &quot; &lt;&lt; factorial &lt;&lt; endl;
    }
    // Print the error message
    catch (exception &amp;e)
    {
        cout &lt;&lt; e.what();
    }
}
</code></pre>
<hr />
<pre><code class="language-cpp">// Driver Code
int main()
{
    // Function call to find factorial
    // of 0
    findFactorial(0);
    // Function call to find factorial
    // of 3
    findFactorial(3);
    // Function call to find factorial
    // of -1
    findFactorial(-1);
    return 0;
}
</code></pre>
<hr />
<h4 id="example-divide-by-zero"><a class="header" href="#example-divide-by-zero">Example: Divide by zero</a></h4>
<p>Ref: <a href="https://www.geeksforgeeks.org/handling-the-divide-by-zero-exception-in-c">Handling the Divide by Zero Exception in C++</a></p>
<pre><code class="language-cpp">// Program to depict how to handle
// divide by zero exception
#include &lt;iostream&gt;
#include &lt;stdexcept&gt; // To use runtime_error
using namespace std;
// Defining function Division
float Division(float num, float den)
{
    // If denominator is Zero
    // throw runtime_error
    if (den == 0)
    {
        throw runtime_error(&quot;Math error: Attempted to divide by Zero\n&quot;);
    }
    // Otherwise return the result of division
    return (num / den);
} // end Division
</code></pre>
<hr />
<pre><code class="language-cpp">int main()
{
    float numerator, denominator, result;
    numerator = 12.5;
    denominator = 0;
    // try block calls the Division function
    try
    {
        result = Division(numerator, denominator);
        // this will not print in this example
        cout &lt;&lt; &quot;The quotient is &quot;
             &lt;&lt; result &lt;&lt; endl;
    }
    // catch block catches exception thrown
    // by the Division function
    catch (runtime_error &amp;e)
    {
        // prints that exception has occurred
        // calls the what function
        // using runtime_error object
        cout &lt;&lt; &quot;Exception occurred&quot; &lt;&lt; endl
             &lt;&lt; e.what();
    }
} // end main
</code></pre>
<hr />
<h3 id="iostream-fstream--exception-handling"><a class="header" href="#iostream-fstream--exception-handling"><code>iostream</code>, <code>fstream</code> &amp; exception handling</a></h3>
<p>Ref: <a href="https://en.cppreference.com/w/cpp/io/basic_ios/exceptions">std::basic_ios::exceptions</a></p>
<p>To Handle stream <code>.bad()</code>, <code>.fail()</code> and <code>.eof()</code> flags with <code>try ... catch</code> block, use <code>.exceptions()</code> member function to set the exceptions to be thrown.
The type of exception thrown is <code>ios_base::failure</code>.</p>
<hr />
<p>Example:</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;fstream&gt;

int main()
{
    int ivalue;
    try
    {
        std::ifstream in(&quot;in.txt&quot;);
        in.exceptions(std::ifstream::failbit); // may throw
        in &gt;&gt; ivalue;                          // may throw
    }
    catch (const std::ios_base::failure &amp;fail)
    {
        // handle exception here
        std::cout &lt;&lt; fail.what() &lt;&lt; '\n';
    }
}
</code></pre>
<h2 id="example-exception-handling-iostream--fstream-error-handling-a-hreflecture15_exhtmlsourcea"><a class="header" href="#example-exception-handling-iostream--fstream-error-handling-a-hreflecture15_exhtmlsourcea">Example: Exception Handling, <code>iostream</code> &amp; <code>fstream</code> Error Handling [<a href="./lecture15_ex.html">Source</a>]</a></h2>
<h2 id="practices"><a class="header" href="#practices">Practices</a></h2>
<ul>
<li>Try to read/write files in serveral stream formats.
<ul>
<li><code>std::string</code>, <code>std::hex</code>, <code>std::uppercase</code>, etc.</li>
</ul>
</li>
<li>Try to handle errors in <code>std::fstream</code> and <code>std::iostream</code>
<ul>
<li>fail to open file, read/write error, invalid format, etc.</li>
</ul>
</li>
<li>Try to throw/handle exceptions in user-defined class
<ul>
<li>examples in lectrue 2 to lecture 12</li>
</ul>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../file/lab/lab14-2.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../file/lecture15_ex.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../file/lab/lab14-2.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../file/lecture15_ex.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
