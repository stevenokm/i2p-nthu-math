<!DOCTYPE HTML>
<html lang="zh-TW" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Lecture 18: (Extra) C++ Image Export &amp; Matplot++ - Introduction to Programming (II)</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="程式設計(二)教材">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../favicon.svg">
                        <link rel="shortcut icon" href="../favicon.png">
                <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
                <link rel="stylesheet" href="../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
                <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../intro.html"><strong aria-hidden="true">1.</strong> Course Introduction</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> VS Code Tutorial</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../vscode_tutorial/lab_1_vscode_315.html"><strong aria-hidden="true">2.1.</strong> VS Code Tutorial (315 classroom)</a></li><li class="chapter-item expanded "><a href="../vscode_tutorial/lab_1_vscode.html"><strong aria-hidden="true">2.2.</strong> VS Code Tutorial (Linux/macOS/code server)</a></li><li class="chapter-item expanded "><a href="../vscode_tutorial/lab_1_vscode_win.html"><strong aria-hidden="true">2.3.</strong> VS Code Tutorial (WSL/windows + mingw)</a></li></ol></li><li class="chapter-item expanded "><a href="../class/lecture1.html"><strong aria-hidden="true">3.</strong> Lecture 1: Sturcture and Class</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../class/lab/lab1.html"><strong aria-hidden="true">3.1.</strong> Lab 1: Hello Class</a></li></ol></li><li class="chapter-item expanded "><a href="../class/lecture2.html"><strong aria-hidden="true">4.</strong> Lecture 2: Class Design 101</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../class/lecture2_ex1.html"><strong aria-hidden="true">4.1.</strong> Example 1: Triangle</a></li><li class="chapter-item expanded "><a href="../class/lecture2_ex2.html"><strong aria-hidden="true">4.2.</strong> Example 2: Vector</a></li></ol></li><li class="chapter-item expanded "><a href="../class/lecture3.html"><strong aria-hidden="true">5.</strong> Lecture 3: Class Data Members &amp; Member Functions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../class/lecture3_ex1.html"><strong aria-hidden="true">5.1.</strong> Example 1: Triangle (again)</a></li><li class="chapter-item expanded "><a href="../class/lecture3_ex2.html"><strong aria-hidden="true">5.2.</strong> Example 2: Vector (again)</a></li><li class="chapter-item expanded "><a href="../class/lecture3_ex3.html"><strong aria-hidden="true">5.3.</strong> Example 3: Integer Calculator</a></li></ol></li><li class="chapter-item expanded "><a href="../class/lecture4.html"><strong aria-hidden="true">6.</strong> Lecture 4: Class Constructor &amp; Modifer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../class/lecture4_ex1.html"><strong aria-hidden="true">6.1.</strong> Example 1: Triangle (again)</a></li><li class="chapter-item expanded "><a href="../class/lecture4_ex2.html"><strong aria-hidden="true">6.2.</strong> Example 2: Vector (again)</a></li><li class="chapter-item expanded "><a href="../class/lecture4_ex3.html"><strong aria-hidden="true">6.3.</strong> Example 3: Integer Calculator (again)</a></li><li class="chapter-item expanded "><a href="../class/lab/lab4-1.html"><strong aria-hidden="true">6.4.</strong> Lab 4-1: Complex Numbers (50%)</a></li><li class="chapter-item expanded "><a href="../class/lab/lab4-2.html"><strong aria-hidden="true">6.5.</strong> Lab 4-2: Complex Number Calculation (35%)</a></li><li class="chapter-item expanded "><a href="../class/lab/lab4-3.html"><strong aria-hidden="true">6.6.</strong> Lab 4-3: Advance Complex Number Calculation (15%)</a></li></ol></li><li class="chapter-item expanded "><a href="../class/lecture5.html"><strong aria-hidden="true">7.</strong> Lecture 5: Collaborate with Other Classes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../class/lecture5_ex1.html"><strong aria-hidden="true">7.1.</strong> Example 1: Triangle (again)</a></li><li class="chapter-item expanded "><a href="../class/lecture5_ex2.html"><strong aria-hidden="true">7.2.</strong> Example 2: Vector (again)</a></li><li class="chapter-item expanded "><a href="../class/lecture5_ex3.html"><strong aria-hidden="true">7.3.</strong> Example 3: Fixed Point Number &amp; Fixed Point Number Calculator</a></li></ol></li><li class="chapter-item expanded "><a href="../class/lecture6.html"><strong aria-hidden="true">8.</strong> Lecture 6: Operator &amp; Operator Overloading</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../class/lecture6_ex1.html"><strong aria-hidden="true">8.1.</strong> Example 1: Triangle (again)</a></li><li class="chapter-item expanded "><a href="../class/lecture6_ex2.html"><strong aria-hidden="true">8.2.</strong> Example 2: Vector (again)</a></li><li class="chapter-item expanded "><a href="../class/lecture6_ex3.html"><strong aria-hidden="true">8.3.</strong> Example 3: Fixed Point Number &amp; Fixed Point Number Calculator (again)</a></li><li class="chapter-item expanded "><a href="../class/lab/lab6-1.html"><strong aria-hidden="true">8.4.</strong> Lab 6-1: Enhanced Complex Numbers (40%)</a></li><li class="chapter-item expanded "><a href="../class/lab/lab6-2.html"><strong aria-hidden="true">8.5.</strong> Lab 6-2: Simple Complex Number Calculator (40%)</a></li><li class="chapter-item expanded "><a href="../class/lab/lab6-3.html"><strong aria-hidden="true">8.6.</strong> Lab 6-3: Enhanced Complex Number Calculator (20%)</a></li></ol></li><li class="chapter-item expanded "><a href="../oop/lecture7.html"><strong aria-hidden="true">9.</strong> Lecture 7: Introduction to Object Oriented Programming &amp; Design</a></li><li class="chapter-item expanded "><a href="../oop/lecture8.html"><strong aria-hidden="true">10.</strong> Lecture 8: OOP: Inheritance (1)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../oop/lecture8_ex1.html"><strong aria-hidden="true">10.1.</strong> Example 1: Integer &amp; Real</a></li><li class="chapter-item expanded "><a href="../oop/lecture8_ex2.html"><strong aria-hidden="true">10.2.</strong> Example 2: Complex Number</a></li><li class="chapter-item expanded "><a href="../oop/lecture8_ex3.html"><strong aria-hidden="true">10.3.</strong> Example 3: Integer &amp; Real &amp; Complex Number</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.</strong> Midterm Project: Big Positive Real Number Calculator</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../midterm-1.html"><strong aria-hidden="true">11.1.</strong> Midterm-1: Big Positive Real Number in Decimal Point Format</a></li><li class="chapter-item expanded "><a href="../midterm-2.html"><strong aria-hidden="true">11.2.</strong> Midterm-2: Simple Big Positive Real Number Calculator</a></li><li class="chapter-item expanded "><a href="../midterm-3.html"><strong aria-hidden="true">11.3.</strong> Midterm-3: Enhanced Big Positive Real Number Calculator</a></li></ol></li><li class="chapter-item expanded "><a href="../oop/lecture10.html"><strong aria-hidden="true">12.</strong> Lecture 10: OOP: Inheritance (2)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../oop/lecture10_ex1.html"><strong aria-hidden="true">12.1.</strong> Example 1: Integer &amp; Real &amp; Complex Number Calculator</a></li><li class="chapter-item expanded "><a href="../oop/lecture10_ex2.html"><strong aria-hidden="true">12.2.</strong> Example 2: Complex Number &amp; Triangle</a></li><li class="chapter-item expanded "><a href="../oop/lecture10_ex3.html"><strong aria-hidden="true">12.3.</strong> Example 3: Complex Number &amp; Triangles</a></li></ol></li><li class="chapter-item expanded "><a href="../oop/lecture11.html"><strong aria-hidden="true">13.</strong> Lecture 11: OOP: Polymorphism (1)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../oop/lecture11_ex1.html"><strong aria-hidden="true">13.1.</strong> Example 1: Integer &amp; Real</a></li><li class="chapter-item expanded "><a href="../oop/lecture11_ex2.html"><strong aria-hidden="true">13.2.</strong> Example 2: Complex Number</a></li><li class="chapter-item expanded "><a href="../oop/lecture11_ex3.html"><strong aria-hidden="true">13.3.</strong> Example 3: Integer &amp; Real &amp; Complex Number</a></li></ol></li><li class="chapter-item expanded "><a href="../oop/lecture12.html"><strong aria-hidden="true">14.</strong> Lecture 12: OOP: Polymorphism (2)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../oop/lecture12_ex1.html"><strong aria-hidden="true">14.1.</strong> Example 1: Integer &amp; Real &amp; Complex Number Calculator</a></li><li class="chapter-item expanded "><a href="../oop/lecture12_ex2.html"><strong aria-hidden="true">14.2.</strong> Example 2: Complex Number &amp; Triangles</a></li><li class="chapter-item expanded "><a href="../oop/lab/lab12-1.html"><strong aria-hidden="true">14.3.</strong> Lab 12-1: Complex Number's Geometry (40%)</a></li><li class="chapter-item expanded "><a href="../oop/lab/lab12-2.html"><strong aria-hidden="true">14.4.</strong> Lab 12-2: Simple Complex Number Geometry Transformation (40%)</a></li><li class="chapter-item expanded "><a href="../oop/lab/lab12-3.html"><strong aria-hidden="true">14.5.</strong> Lab 12-3: Enhanced Complex Number Geometry Transformation (20%)</a></li></ol></li><li class="chapter-item expanded "><a href="../file/lecture13.html"><strong aria-hidden="true">15.</strong> Lecture 13: File Processing (1)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../file/lecture13_ex1.html"><strong aria-hidden="true">15.1.</strong> Example 1: Big Real Number in Text File</a></li><li class="chapter-item expanded "><a href="../file/lecture13_ex2.html"><strong aria-hidden="true">15.2.</strong> Example 2: Point &amp; Triangle in Text File (function ver.)</a></li><li class="chapter-item expanded "><a href="../file/lecture13_ex3.html"><strong aria-hidden="true">15.3.</strong> Example 3: Vector &amp; Matrix in Binary File (function ver.)</a></li></ol></li><li class="chapter-item expanded "><a href="../file/lecture14.html"><strong aria-hidden="true">16.</strong> Lecture 14: File Processing (2)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../file/lecture14_ex1.html"><strong aria-hidden="true">16.1.</strong> Example 1: Point &amp; Triangle in Text File (class ver.)</a></li><li class="chapter-item expanded "><a href="../file/lecture14_ex2.html"><strong aria-hidden="true">16.2.</strong> Example 2: Vector &amp; Matrix in Binary File (class ver.)</a></li><li class="chapter-item expanded "><a href="../file/lab/lab14-1.html"><strong aria-hidden="true">16.3.</strong> Lab 14-1: Simple Complex Number Geometry Transformation (Text File ver.) (75%)</a></li><li class="chapter-item expanded "><a href="../file/lab/lab14-2.html"><strong aria-hidden="true">16.4.</strong> Lab 14-2: Simple Complex Number Geometry Transformation (Binary File ver.) (25%)</a></li></ol></li><li class="chapter-item expanded "><a href="../file/lecture15.html"><strong aria-hidden="true">17.</strong> Lecture 15: Advanced I/O &amp; Exception Handling</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../file/lecture15_ex.html"><strong aria-hidden="true">17.1.</strong> Example: Exception Handling, iostream &amp; fstream Error Handling</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">18.</strong> Final Project: Geometry Processing</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../final-1.html"><strong aria-hidden="true">18.1.</strong> Final-1: Geometry Objects</a></li><li class="chapter-item expanded "><a href="../final-2.html"><strong aria-hidden="true">18.2.</strong> Final-2: Save Geometry Objects to Binary File</a></li><li class="chapter-item expanded "><a href="../final-3.html"><strong aria-hidden="true">18.3.</strong> Final-3: Save Geometry Objects to Binary File &amp; Exception Handling</a></li></ol></li><li class="chapter-item expanded "><a href="../file/lecture16.html"><strong aria-hidden="true">19.</strong> Lecture 16: (Extra) C++ Image Export &amp; Matplot++</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../file/lecture16_ex.html"><strong aria-hidden="true">19.1.</strong> Example: Plot a Geometry on Complex Plane</a></li></ol></li><li class="chapter-item expanded "><a href="../googletest/lecture18.html" class="active"><strong aria-hidden="true">20.</strong> Lecture 18: (Extra) C++ Image Export &amp; Matplot++</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../googletest/lecture18_ex.html"><strong aria-hidden="true">20.1.</strong> Example: Plot a Geometry on Complex Plane</a></li></ol></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Introduction to Programming (II)</h1>

                    <div class="right-buttons">
                                                <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                                                <a href="https://github.com/stevenokm/i2p-nthu-math/edit/main/i2p2/src/googletest/lecture18.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>
                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!---
marp: true
author: Yi-Wen Hung
theme: default
headingDivider: 2
paginate: true
--->
<h1 id="extra-google-test-for-class"><a class="header" href="#extra-google-test-for-class">(Extra) Google Test for Class</a></h1>
<blockquote>
<p>Slides version: <a href="./lecture18_slides.html">lecture18_slides.html</a>
Website version: <a href="./lecture18.html">lecture18.html</a></p>
</blockquote>
<p>Prerequisite Lecture: <a href="https://stevenokm.github.io/i2p-nthu-math/i2p1/googletest/lecture16.html">Lecture 16: GoogleTest Tutorial</a></p>
<ul>
<li>Google Test
<ul>
<li>Installation</li>
<li>Hello world</li>
</ul>
</li>
<li>Google Test for Class
<ul>
<li>What is Unit Test?</li>
<li>Example: unit test for class (sample4 &amp; sample5)</li>
</ul>
</li>
<li>Example: Unit Test for Vector &amp; Matrix in Binary File (class ver.)</li>
<li>Pratices</li>
</ul>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<h3 id="windows--mingw-update-gcc"><a class="header" href="#windows--mingw-update-gcc">Windows + MinGW: Update <code>gcc</code></a></h3>
<p><strong>Note</strong>: 須先完成 <a href="../vscode_tutorial/lab_1_vscode_win.html#%E8%A8%AD%E5%AE%9A-vscode-%E7%92%B0%E5%A2%83-windows--mingw">設定 VSCode 環境 (Windows + MinGW)</a> 再進行下一步</p>
<p>Terminal:</p>
<pre><code class="language-sh"># remove old gcc 8.1.0
scoop uninstall mingw
# install new gcc 12.1.0
scoop install mingw-winlibs
</code></pre>
<hr />
<h3 id="linuxmacos-install-cmake"><a class="header" href="#linuxmacos-install-cmake">Linux/macOS: Install CMake</a></h3>
<p>Terminal:</p>
<h4 id="linux"><a class="header" href="#linux">Linux</a></h4>
<pre><code class="language-bash">sudo apt install cmake
</code></pre>
<h4 id="macos"><a class="header" href="#macos">macOS</a></h4>
<pre><code class="language-bash">brew install cmake
</code></pre>
<hr />
<h3 id="update-vscode-cc-extension"><a class="header" href="#update-vscode-cc-extension">Update VSCode C/C++ Extension</a></h3>
<p>Install <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools-extension-pack">C/C++ Extension Pack</a></p>
<p>Correct:</p>
<p><img src="./img/vscode_cpptools_correct.png" alt="" /></p>
<hr />
<h3 id="hello-googletest"><a class="header" href="#hello-googletest">Hello GoogleTest</a></h3>
<p>Ref: <a href="https://google.github.io/googletest/quickstart-cmake.html#create-and-run-a-binary">Quickstart: Building with CMake</a></p>
<ol>
<li>建立專案資料夾 (e.g. <code>googletest</code>)</li>
<li>使用 VSCode 打開專案資料夾</li>
<li>新增 <code>hello_test.cpp</code> &amp; <code>CMakeLists.txt</code>，內容如下：</li>
</ol>
<p><code>hello_test.cpp</code></p>
<pre><code class="language-c++">#include &lt;gtest/gtest.h&gt;

// Demonstrate some basic assertions.
TEST(HelloTest, BasicAssertions)
{
    // Expect two strings not to be equal.
    EXPECT_STRNE(&quot;hello&quot;, &quot;world&quot;);
    // Expect equality.
    EXPECT_EQ(7 * 6, 42);
}
</code></pre>
<hr />
<p><code>CMakeLists.txt</code></p>
<pre><code class="language-cmake">cmake_minimum_required(VERSION 3.14)
project(hello_test)

# GoogleTest requires at least C++11
set(CMAKE_CXX_STANDARD 11)

include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/609281088cfefc76f9d0ce82e1ff6c30cc3591e5.zip
)
# For Windows: Prevent overriding the parent project's compiler/linker settings
set(gtest_force_shared_crt ON CACHE BOOL &quot;&quot; FORCE)
FetchContent_MakeAvailable(googletest)

enable_testing()

add_executable(
  hello_test
  hello_test.cpp
)
target_link_libraries(
  hello_test
  gtest_main
)

include(GoogleTest)
gtest_discover_tests(hello_test)
</code></pre>
<hr />
<ol start="4">
<li>重新使用 VSCode 打開專案資料夾</li>
<li>configure project &quot;matplotplusplus-master&quot; (Yes)</li>
</ol>
<p><img src="img/config_cmake.png" alt="" /></p>
<hr />
<ol start="6">
<li>select right active kit
<ol>
<li>Windows: <code>GCC 12.1.0 x86_64-w64-mingw32</code></li>
<li>Linux: <code>GCC 9.4.0 x86_64-linux-gnu</code> (Ubuntu 20.04)</li>
<li>macOS: <code>Clang 13.0.0 arm64-apple-darwin20.6.0</code> (macOS Big Sur, Apple Silicon)</li>
</ol>
</li>
</ol>
<p><img src="img/select_active_kit.png" alt="bg right fit" /></p>
<hr />
<ol start="7">
<li>Press &quot;Build&quot; button on the bottom of the VSCode window</li>
</ol>
<p><img src="img/build_cmake.png" alt="" /></p>
<hr />
<ol start="8">
<li>Press &quot;Run&quot; button on the bottom of the VSCode window</li>
</ol>
<p><img src="img/run_cmake.png" alt="" /></p>
<hr />
<p>Terminal:</p>
<pre><code class="language-console">Running main() from C:\Users\stevenokm\googletest\build\_deps\googletest-src\googletest\src\gtest_main.cc
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from HelloTest
[ RUN      ] HelloTest.BasicAssertions
[       OK ] HelloTest.BasicAssertions (0 ms)
[----------] 1 test from HelloTest (2 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (9 ms total)
[  PASSED  ] 1 test.
</code></pre>
<h2 id="google-test-for-class"><a class="header" href="#google-test-for-class">Google Test for Class</a></h2>
<p>Ref: <a href="https://www.geeksforgeeks.org/unit-testing-software-testing/">Unit Testing | Software Testing</a></p>
<ul>
<li>What is Unit Test?</li>
<li>Objective of Unit Testing</li>
<li>Types of Unit Testing</li>
<li>Unit Testing Techniques</li>
<li>Example: unit test for class</li>
</ul>
<hr />
<h3 id="what-is-unit-test"><a class="header" href="#what-is-unit-test">What is Unit Test?</a></h3>
<blockquote>
<p>Unit Testing is a software testing technique by means of which individual units of software i.e. group of computer program modules, usage procedures, and operating procedures are tested to determine whether they are suitable for use or not. </p>
</blockquote>
<p><img src="img/Capture6661.jpg" alt="bg right fit" /></p>
<hr />
<h3 id="objective-of-unit-testing"><a class="header" href="#objective-of-unit-testing">Objective of Unit Testing</a></h3>
<ol>
<li>To isolate a section of code.</li>
<li>To verify the correctness of the code.</li>
<li>To test every function and procedure.</li>
<li>To fix bugs early in the development cycle and to save costs.</li>
<li>To help the developers to understand the code base and enable them to make changes quickly.</li>
<li>To help with code reuse.</li>
</ol>
<hr />
<h3 id="types-of-unit-testing"><a class="header" href="#types-of-unit-testing">Types of Unit Testing</a></h3>
<p>There are 3 types of Unit Testing Techniques. They are:</p>
<ul>
<li>Black Box Testing: This testing technique is used in covering the unit tests for input, user interface, and output parts.</li>
<li>White Box Testing: This technique is used in testing the functional behavior of the system by giving the input and checking the functionality output including the internal design structure and code of the modules.</li>
<li>Gray Box Testing: This technique is used in executing the relevant test cases, test methods, test functions, and analyzing the code performance for the modules.</li>
</ul>
<hr />
<h4 id="black-box-testing"><a class="header" href="#black-box-testing">Black Box Testing</a></h4>
<p>Ref: <a href="https://en.wikipedia.org/wiki/Black-box_testing">Black-box testing - Wikipedia</a></p>
<blockquote>
<p>Black-box testing is a method of software testing that examines the functionality of an application without peering into its internal structures or workings.
This method of test can be applied virtually to every level of software testing: unit, integration, system and acceptance.
It is sometimes referred to as specification-based testing.</p>
</blockquote>
<p>System diagram:</p>
<p><img src="img/640px-Blackbox.svg.png" alt="" /></p>
<hr />
<h4 id="white-box-testing"><a class="header" href="#white-box-testing">White Box Testing</a></h4>
<p>Ref: <a href="https://en.wikipedia.org/wiki/White-box_testing">White-box testing - Wikipedia</a>, <a href="https://commons.wikimedia.org/wiki/File:WhiteBoxTesting.png">File:WhiteBoxTesting.png</a></p>
<blockquote>
<p>White-box testing is a method of software testing that tests internal structures or workings of an application, as opposed to its functionality (i.e. black-box testing).
In white-box testing an internal perspective of the system, as well as programming skills, are used to design test cases.</p>
</blockquote>
<p><img src="img/WhiteBoxTesting.png" alt="bg right fit" /></p>
<hr />
<h4 id="gray-box-testing"><a class="header" href="#gray-box-testing">Gray Box Testing</a></h4>
<p>Ref: <a href="https://en.wikipedia.org/wiki/Gray-box_testing">Gray-box testing - Wikipedia</a>, <a href="https://doi.org/10.1177%2F193229681300700220">Model Identification Using Stochastic Differential Equation Grey-Box Models in Diabetes</a></p>
<blockquote>
<p>Gray-box testing is a combination of white-box testing and black-box testing.
A gray-box tester partially knows the internal structure, which includes access to the documentation of internal data structures as well as the algorithms used.</p>
</blockquote>
<p><img src="img/Illustration-of-the-concept-of-grey-box-modeling-White-box-models-are-based-mainly-on.png" alt="" /></p>
<hr />
<h3 id="example-unit-test-for-class"><a class="header" href="#example-unit-test-for-class">Example: unit test for class</a></h3>
<p>Ref: <a href="https://github.com/google/googletest/tree/main/googletest/samples">googletest/googletest/samples</a></p>
<ul>
<li>CMake Setup Update</li>
<li>Example: <code>Counter</code> class</li>
<li>Example: <code>MyString</code> class</li>
</ul>
<hr />
<h4 id="cmake-setup-update"><a class="header" href="#cmake-setup-update">CMake Setup Update</a></h4>
<pre><code class="language-cmake"># ...

add_executable(
  hello_test
  hello_test.cpp
)
target_link_libraries(
  hello_test
  gtest_main
)

add_executable(
  sample2_unittest
  sample2_unittest.cc
  sample2.cc
)
target_link_libraries(
  sample2_unittest
  gtest_main
)

add_executable(
  sample4_unittest
  sample4_unittest.cc
  sample4.cc
)
target_link_libraries(
  sample4_unittest
  gtest_main
)

include(GoogleTest)
gtest_discover_tests(hello_test)
gtest_discover_tests(sample2_unittest)
gtest_discover_tests(sample4_unittest)
</code></pre>
<hr />
<h4 id="example-counter-class"><a class="header" href="#example-counter-class">Example: <code>Counter</code> class</a></h4>
<p><a href="example_cpp/sample4.h"><code>sample4.h</code></a></p>
<pre><code class="language-c++">// A sample program demonstrating using Google C++ testing framework.
#ifndef GTEST_SAMPLES_SAMPLE4_H_
#define GTEST_SAMPLES_SAMPLE4_H_

// A simple monotonic counter.
class Counter
{
private:
  int counter_;

public:
  // Creates a counter that starts at 0.
  Counter() : counter_(0) {}

  // Returns the current counter value, and increments it.
  int Increment();

  // Returns the current counter value, and decrements it.
  int Decrement();

  // Prints the current counter value to STDOUT.
  void Print() const;
};

#endif // GTEST_SAMPLES_SAMPLE4_H_
</code></pre>
<hr />
<p><a href="example_cpp/sample4.cc"><code>sample4.cc</code></a></p>
<pre><code class="language-c++">// A sample program demonstrating using Google C++ testing framework.

#include &lt;iostream&gt;

#include &quot;sample4.h&quot;

// Returns the current counter value, and increments it.
int Counter::Increment()
{
  return counter_++;
}

// Returns the current counter value, and decrements it.
// counter can not be less than 0, return 0 in this case
int Counter::Decrement()
{
  if (counter_ == 0)
  {
    return counter_;
  }
  else
  {
    return counter_--;
  }
}

// Prints the current counter value to STDOUT.
void Counter::Print() const
{
  std::cout &lt;&lt; counter_;
}
</code></pre>
<hr />
<p><a href="example_cpp/sample4_unittest.cc"><code>sample4_unittest.cc</code></a></p>
<pre><code class="language-c++">#include &quot;sample4.h&quot;
#include &quot;gtest/gtest.h&quot;

namespace
{
  // Tests the Increment() method.

  TEST(Counter, Increment)
  {
    Counter c;

    // Test that counter 0 returns 0
    EXPECT_EQ(0, c.Decrement());

    // EXPECT_EQ() evaluates its arguments exactly once, so they
    // can have side effects.

    EXPECT_EQ(0, c.Increment());
    EXPECT_EQ(1, c.Increment());
    EXPECT_EQ(2, c.Increment());

    EXPECT_EQ(3, c.Decrement());
  }

} // namespace
</code></pre>
<hr />
<p>Result:</p>
<pre><code class="language-console">Running main() from C:\Users\stevenokm\googletest\build\_deps\googletest-src\googletest\src\gtest_main.cc
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from Counter
[ RUN      ] Counter.Increment
[       OK ] Counter.Increment (0 ms)
[----------] 1 test from Counter (2 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (10 ms total)
[  PASSED  ] 1 test.
</code></pre>
<hr />
<h4 id="example-mystring-class"><a class="header" href="#example-mystring-class">Example: <code>MyString</code> class</a></h4>
<p><a href="example_cpp/sample2.h"><code>sample2.h</code></a></p>
<pre><code class="language-c++">// A sample program demonstrating using Google C++ testing framework.

#ifndef GTEST_SAMPLES_SAMPLE2_H_
#define GTEST_SAMPLES_SAMPLE2_H_

#include &lt;string.h&gt;

// A simple string class.
class MyString
{
private:
  const char *c_string_;
  const MyString &amp;operator=(const MyString &amp;rhs);

public:
  // Clones a 0-terminated C string, allocating memory using new.
  static const char *CloneCString(const char *a_c_string);

  ////////////////////////////////////////////////////////////
  //
  // C'tors

  // The default c'tor constructs a NULL string.
  MyString() : c_string_(nullptr) {}

  // Constructs a MyString by cloning a 0-terminated C string.
  explicit MyString(const char *a_c_string) : c_string_(nullptr)
  {
    Set(a_c_string);
  }

  // Copy c'tor
  MyString(const MyString &amp;string) : c_string_(nullptr)
  {
    Set(string.c_string_);
  }
</code></pre>
<hr />
<pre><code class="language-c++">  ////////////////////////////////////////////////////////////
  //
  // D'tor.  MyString is intended to be a final class, so the d'tor
  // doesn't need to be virtual.
  ~MyString() { delete[] c_string_; }

  // Gets the 0-terminated C string this MyString object represents.
  const char *c_string() const { return c_string_; }

  size_t Length() const { return c_string_ == nullptr ? 0 : strlen(c_string_); }

  // Sets the 0-terminated C string this MyString object represents.
  void Set(const char *c_string);
};

#endif // GTEST_SAMPLES_SAMPLE2_H_
</code></pre>
<hr />
<p><a href="example_cpp/sample2.cc"><code>sample2.cc</code></a></p>
<pre><code class="language-c++">// A sample program demonstrating using Google C++ testing framework.

#include &quot;sample2.h&quot;

#include &lt;string.h&gt;

// Clones a 0-terminated C string, allocating memory using new.
const char *MyString::CloneCString(const char *a_c_string)
{
  if (a_c_string == nullptr)
    return nullptr;

  const size_t len = strlen(a_c_string);
  char *const clone = new char[len + 1];
  memcpy(clone, a_c_string, len + 1);

  return clone;
}

// Sets the 0-terminated C string this MyString object
// represents.
void MyString::Set(const char *a_c_string)
{
  // Makes sure this works when c_string == c_string_
  const char *const temp = MyString::CloneCString(a_c_string);
  delete[] c_string_;
  c_string_ = temp;
}
</code></pre>
<hr />
<p><a href="example_cpp/sample2_unittest.cc"><code>sample2_unittest.cc</code></a></p>
<pre><code class="language-c++">#include &quot;sample2.h&quot;
#include &quot;gtest/gtest.h&quot;
namespace
{
  // In this example, we test the MyString class (a simple string).

  // Tests the default c'tor.
  TEST(MyString, DefaultConstructor)
  {
    const MyString s;

    EXPECT_STREQ(nullptr, s.c_string());

    EXPECT_EQ(0u, s.Length());
  }

  const char kHelloString[] = &quot;Hello, world!&quot;;

  // Tests the c'tor that accepts a C string.
  TEST(MyString, ConstructorFromCString)
  {
    const MyString s(kHelloString);
    EXPECT_EQ(0, strcmp(s.c_string(), kHelloString));
    EXPECT_EQ(sizeof(kHelloString) / sizeof(kHelloString[0]) - 1,
              s.Length());
  }
</code></pre>
<hr />
<pre><code class="language-c++">  // Tests the copy c'tor.
  TEST(MyString, CopyConstructor)
  {
    const MyString s1(kHelloString);
    const MyString s2 = s1;
    EXPECT_EQ(0, strcmp(s2.c_string(), kHelloString));
  }

  // Tests the Set method.
  TEST(MyString, Set)
  {
    MyString s;

    s.Set(kHelloString);
    EXPECT_EQ(0, strcmp(s.c_string(), kHelloString));

    // Set should work when the input pointer is the same as the one
    // already in the MyString object.
    s.Set(s.c_string());
    EXPECT_EQ(0, strcmp(s.c_string(), kHelloString));

    // Can we set the MyString to NULL?
    s.Set(nullptr);
    EXPECT_STREQ(nullptr, s.c_string());
  }
} // namespace
</code></pre>
<hr />
<p>Result:</p>
<pre><code class="language-console">Running main() from C:\Users\stevenokm\googletest\build\_deps\googletest-src\googletest\src\gtest_main.cc
[==========] Running 4 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 4 tests from MyString
[ RUN      ] MyString.DefaultConstructor
[       OK ] MyString.DefaultConstructor (0 ms)
[ RUN      ] MyString.ConstructorFromCString
[       OK ] MyString.ConstructorFromCString (0 ms)
[ RUN      ] MyString.CopyConstructor
[       OK ] MyString.CopyConstructor (0 ms)
[ RUN      ] MyString.Set
[       OK ] MyString.Set (0 ms)
[----------] 4 tests from MyString (11 ms total)

[----------] Global test environment tear-down
[==========] 4 tests from 1 test suite ran. (19 ms total)
[  PASSED  ] 4 tests.
</code></pre>
<h2 id="example-unit-test-for-vector--matrix-in-binary-file-class-ver-a-hreflecture18_exhtmlsourcea"><a class="header" href="#example-unit-test-for-vector--matrix-in-binary-file-class-ver-a-hreflecture18_exhtmlsourcea">Example: Unit Test for Vector &amp; Matrix in Binary File (class ver.) [<a href="./lecture18_ex.html">Source</a>]</a></h2>
<h2 id="pratices"><a class="header" href="#pratices">Pratices</a></h2>
<ul>
<li>Test lab14-1 &amp; lab14-2 with googletest
<ul>
<li>Test <code>Complex</code> class</li>
<li>Test <code>Geometry_Comp</code>, <code>Triangle_Comp</code>, <code>Quadrilateral_Comp</code>, and <code>Circle_Comp</code>
<ul>
<li>Data members</li>
<li>File input &amp; output</li>
</ul>
</li>
</ul>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../file/lecture16_ex.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../googletest/lecture18_ex.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../file/lecture16_ex.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../googletest/lecture18_ex.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
